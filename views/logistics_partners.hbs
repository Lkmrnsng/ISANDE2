<div class="main-layout">
  <main class="agencies-container">
    <div class="header-section">
      <h2>Logistics Partners</h2>
      <div class="controls">
        <div class="filters">
          <select id="sortByAgency" class="sort-btn" onchange="sortAgencies()">
            <option value="none">Sort by</option>
            <option value="nameAsc">Name</option>
            <option value="priceDesc">Price</option>
            <option value="weightDesc">Max Weight</option>
            <option value="perKgDesc">Price Per Kg</option>
          </select>
        </div>
      </div>
    </div>

    <div class="agency-table-container">
      <table class="agency-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Contact No.</th>
            <th>Location</th>
            <th>Price</th>
            <th>Max. Weight</th>
            <th>Price per Kg</th>
            <th>Latest Shipment Date</th>
          </tr>
        </thead>
        <tbody>
          {{!-- This will be automatically populated by the js --}}
        </tbody>
      </table>
      <div class="pagination">
        <span>Page <span id="currentPage">1</span> of <span id="totalPages">1</span></span>
        <div class="pagination-controls">
          <button id="prevPage" class="nav-button" onclick="changePage(-1)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m15 18-6-6 6-6"/>
            </svg>
          </button>
          <button id="nextPage" class="nav-button" onclick="changePage(1)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m9 18 6-6-6-6"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <section class="agency-shipments">
      <h2>Agency Shipments</h2>
      <div class="metrics-grid">
        <div class="metric-card">
          <h3>Top Agency:</h3>
          <p>{{stats.topAgency}}</p>
        </div>
        <div class="metric-card">
          <h3>Monthly Procurement Expenses:</h3>
          <p>â‚±{{format_number stats.procurementExpenses}}</p>
        </div>
        <div class="metric-card">
          <h3>Pending Procurements:</h3>
          <p>{{stats.pendingProcurements}}</p>
        </div>
        <div class="metric-card">
          <h3>Total Incoming Kg</h3>
          <p>{{stats.incomingKg}}kg this month</p>
        </div>
        <div class="metric-card">
          <h3>Completed Shipments:</h3>
          <p>{{stats.completedShipments}} this month</p>
        </div>
        <div class="metric-card">
          <h3>On Time Rate</h3>
          <p>{{stats.onTimeRate}}%</p>
        </div>
      </div>
    </section>
  </main>
</div>

<script src="/js/logistics-partners.js"></script>