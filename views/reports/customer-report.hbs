<div class="report">
    <div class="report-header">
        <h1>Sustainabowl</h1>
        <h2>MONTHLY ORDER REPORT</h2>
        <p>For the Month of {{month}} {{year}}</p>
    </div>

    <div class="customer-info">
        <h3>For {{customer.name}}</h3>
        <p>of {{customer.restaurantName}}</p>
    </div>

    <div class="summary-stats">
        <div class="stat-group">
            <div class="stat">
                <label>NO. DELIVERIES</label>
                <span class="numeric">{{summary.totalDeliveries}}</span>
            </div>
            <div class="stat">
                <label>NO. CANCELLED</label>
                <span class="numeric">{{summary.cancelledDeliveries}}</span>
            </div>
            <div class="stat">
                <label>AVE. ORDER COST</label>
                <span class="numeric">₱{{formatReportNumbers (formatNumber summary.averageOrderCost 2)}}</span>
            </div>
            <div class="stat">
                <label>AVE. WEEKLY DELIVERIES</label>
                <span class="numeric">{{summary.averageWeeklyDeliveries}}</span>
            </div>
        </div>
        <div class="stat-group">
            <div class="stat common-items" style="grid-column: span 2;">
                <label>COMMONLY BOUGHT</label>
                <span class="text">{{commonItems}}</span>
            </div>
            <div class="stat common-schedule" style="grid-column: span 2;">
                <label>COMMON SCHEDULE</label>
                <span class="text">{{commonSchedule}}</span>
            </div>
        </div>
    </div>

    <div class="order-history">
        <div class="section-title">ORDER HISTORY</div>
        <table>
            <thead>
                <tr>
                    <th>ORDER ID</th>
                    <th>REQUESTED</th>
                    <th>DELIVERED</th>
                    <th>SCHED</th>
                    <th>PRODUCE ORDERED</th>
                    <th>PAYMENT</th>
                    <th>TOTAL</th>
                </tr>
            </thead>
            <tbody>
                {{#each orderSummary}}
                <tr>
                    <td class="numeric">{{orderId}}</td>
                    <td class="numeric">{{CMORFormatDate requestDate "MM/DD/YY"}}</td>
                    <td class="numeric">{{CMORFormatDate deliveryDate "MM/DD/YY"}}</td>
                    <td class="text">{{schedule}}</td>
                    <td class="text">{{items}}</td>
                    <td class="text">{{payment}}</td>
                    <td class="numeric">₱{{formatReportNumbers (formatNumber total 2)}}</td>
                </tr>
                {{/each}}
                <tr class="total-row">
                    <td colspan="6">TOTAL</td>
                    <td class="numeric">₱{{formatReportNumbers (formatNumber totalAmount 2)}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="order-summary">
        <div class="section-title">ORDER SUMMARY</div>
        <table>
            <thead>
                <tr>
                    <th>PRODUCE</th>
                    <th>KG ORDERED</th>
                    <th>COST</th>
                </tr>
            </thead>
            <tbody>
                {{#each produceSummary}}
                <tr>
                    <td class="text">{{name}}</td>
                    <td class="numeric">{{quantity}}</td>
                    <td class="numeric">₱{{formatReportNumbers (formatNumber cost 2)}}</td>
                </tr>
                {{/each}}
                <tr class="total-row">
                    <td colspan="2">TOTAL</td>
                    <td class="numeric">₱{{formatReportNumbers (formatNumber totalAmount 2)}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="report-footer">
        <p>Generated: {{CMORFormatDate generatedDate "MM/DD/YY"}}</p>
    </div>
</div>